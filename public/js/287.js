(self.webpackChunk=self.webpackChunk||[]).push([[287],{5287:(e,t,n)=>{"use strict";n.r(t),n.d(t,{$$default:()=>N,default:()=>N,make:()=>h});var a=n(7294),r=n(3931);function o(e,t){return function(e,t){for(var n=e.length,a=new Array(n),r=0;r<n;++r)a[r]=t(e[r]);return a}(e,r.Dm(t))}var l=n(143),c=n(4884),i=n(9669),u=n(4594),s=n(1636);function m(e){return e}var d=function(e){a.useState((function(){return""})),a.useState((function(){return""}));var t=r._1(c.I0,void 0),n=r._1(c.v9,m).user;return a.createElement("div",{className:"header"},a.createElement("h1",void 0,"Kuso App"),void 0!==n?a.createElement("div",{className:"logout-group"},a.createElement("p",void 0,"Logged as: "+n.name),a.createElement("form",{onSubmit:function(e){e.preventDefault(),i.post("/api/logout").then((function(e){return r._1(t,{RE_EXN_ID:u.g,_1:c.II}),Promise.resolve(void 0)}))}},a.createElement("button",{className:"logout-button"},"Logout"))):a.createElement("div",{className:"login-group"},a.createElement(s.ZQ,{href:"/login",children:a.createElement("span",{className:"login-link"},"Login")})))};var v=function(e){var t=e.user;if(void 0===t)return a.createElement("span",{className:"icon-skeleton"});var n=t.avatar;return a.createElement("img",{className:"icon",alt:t.name,src:void 0!==n?n:"",width:"24"})};var E=function(e){var t=e.onClick;return a.createElement("button",{className:"delete-button",onClick:t},a.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",void 0,a.createElement("g",void 0,a.createElement("rect",{height:"24",width:"24",opacity:"0",transform:"rotate(180 12 12)"}),a.createElement("path",{d:"M13.41 12l4.3-4.29a1 1 0 1 0-1.42-1.42L12 10.59l-4.29-4.3a1 1 0 0 0-1.42 1.42l4.3 4.29-4.3 4.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0l4.29-4.3 4.29 4.3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"})))))};function f(e){return e}var g=function(e){var t=a.useState((function(){return""})),n=t[1],i=t[0],s=r._1(c.I0,void 0),m=r._1(c.v9,f),g=m.user,p=function(e){var t=e.user;return null==t||void 0!==g&&t.id===g.id};return a.createElement("div",void 0,a.createElement(d,{}),a.createElement("div",{className:"app-body"},a.createElement("div",{className:"app-container"},a.createElement("h2",{className:"todos-heading"},"Todos"),a.createElement("div",void 0,m.loading?a.createElement("p",void 0,"loading..."):o(m.todos,(function(e){var t=e.user;return a.createElement("p",{key:String(e.id),className:"todo-item"},p(e)?a.createElement(E,{onClick:function(t){var n=e.id;r._1(s,{RE_EXN_ID:u.g,_1:function(e){return c.Xd(n,e)}})}}):a.createElement(v,{user:l.Tl(e.user)}),a.createElement("span",{className:"todo-label"},e.title),null==t?a.createElement("span",void 0):a.createElement("span",{className:"user-label"},"（"+t.name+"）"))})),a.createElement("form",{className:"todo-form",onSubmit:function(e){0!==i.length&&(r._1(s,{RE_EXN_ID:u.g,_1:function(e){return c.vM(i,e)}}),r._1(n,(function(e){return""}))),e.preventDefault()}},a.createElement("input",{className:"todo-input",type:"text",value:i,onChange:function(e){var t=e.target;return r._1(n,t.value)}}),a.createElement("button",{className:"add-button",disabled:m.sending||0===i.length},"Add"))))))};function p(e){return a.createElement(g,{})}var h=p,N=p}}]);