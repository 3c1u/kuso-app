(self["webpackChunk"] = self["webpackChunk"] || []).push([["resources_bs_Pages_Login_bs_js"],{

/***/ "./node_modules/@3c1u/bs-inertia/src/Inertia.bs.js":
/*!*********************************************************!*\
  !*** ./node_modules/@3c1u/bs-inertia/src/Inertia.bs.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Page": () => /* binding */ Page,
/* harmony export */   "visit": () => /* binding */ visit,
/* harmony export */   "React": () => /* binding */ React
/* harmony export */ });
/* harmony import */ var _inertiajs_inertia__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @inertiajs/inertia */ "./node_modules/@inertiajs/inertia/dist/index.js");
/* harmony import */ var _inertiajs_inertia_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @inertiajs/inertia-react */ "./node_modules/@inertiajs/inertia-react/dist/index.js");
// Generated by ReScript, PLEASE EDIT WITH CARE




var Page = {};

function visit(method, replace, preserveScroll, preserveState, only, onCancel, onFinish, onSuccess, onError, headers, onCancelToken, url) {
  _inertiajs_inertia__WEBPACK_IMPORTED_MODULE_0__.Inertia.visit(url, {
        method: method,
        replace: replace,
        preserveScroll: preserveScroll,
        preserveState: preserveState,
        only: only,
        onCancel: onCancel,
        onFinish: onFinish,
        onSuccess: onSuccess,
        onError: onError,
        headers: headers,
        onCancelToken: onCancelToken
      });
  
}

function usePageProps(param) {
  return _inertiajs_inertia_react__WEBPACK_IMPORTED_MODULE_1__.usePage().props;
}

var Link = {};

var React = {
  usePageProps: usePageProps,
  Link: Link
};


/* @inertiajs/inertia Not a pure module */


/***/ }),

/***/ "./resources/bs/Header.bs.js":
/*!***********************************!*\
  !*** ./resources/bs/Header.bs.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "stateSelector": () => /* binding */ stateSelector,
/* harmony export */   "make": () => /* binding */ make
/* harmony export */ });
/* harmony import */ var bs_platform_lib_es6_curry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bs-platform/lib/es6/curry.js */ "./node_modules/bs-platform/lib/es6/curry.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! axios */ "./node_modules/axios/index.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _Store_bs_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Store.bs.js */ "./resources/bs/Store.bs.js");
/* harmony import */ var _UserIcon_bs_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./UserIcon.bs.js */ "./resources/bs/UserIcon.bs.js");
/* harmony import */ var _ReduxThunk_bs_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ReduxThunk.bs.js */ "./resources/bs/ReduxThunk.bs.js");
/* harmony import */ var _inertiajs_inertia_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @inertiajs/inertia-react */ "./node_modules/@inertiajs/inertia-react/dist/index.js");
// Generated by ReScript, PLEASE EDIT WITH CARE








function stateSelector(state) {
  return state;
}

function Header(Props) {
  var dispatch = bs_platform_lib_es6_curry_js__WEBPACK_IMPORTED_MODULE_0__._1(_Store_bs_js__WEBPACK_IMPORTED_MODULE_3__.useDispatch, undefined);

  var match = bs_platform_lib_es6_curry_js__WEBPACK_IMPORTED_MODULE_0__._1(_Store_bs_js__WEBPACK_IMPORTED_MODULE_3__.useSelector, stateSelector);

  var user = match.user;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement("div", {
    className: "header"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement("h1", {
    className: "header-branding"
  }, "Kuso App"), user !== undefined ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement("div", {
    className: "logout-group flex flex-row items-center"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement("p", {
    className: "flex flex-row items-center m-0 p-0 text-sm"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement(_UserIcon_bs_js__WEBPACK_IMPORTED_MODULE_4__.make, {
    user: user
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement("span", {
    className: "ml-2"
  }, "Logged as: " + user.name)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement("form", {
    className: "flex",
    onSubmit: function onSubmit(e) {
      e.preventDefault();

      var __x = axios__WEBPACK_IMPORTED_MODULE_1__.post("/api/logout");

      __x.then(function (param) {
        bs_platform_lib_es6_curry_js__WEBPACK_IMPORTED_MODULE_0__._1(dispatch, {
          RE_EXN_ID: _ReduxThunk_bs_js__WEBPACK_IMPORTED_MODULE_5__.Thunk,
          _1: _Store_bs_js__WEBPACK_IMPORTED_MODULE_3__.loadUser
        });

        return Promise.resolve(undefined);
      });
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement("button", {
    className: "fancy-link text-sm m-0 ml-2"
  }, "Logout"))) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement("div", {
    className: "login-group"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement(_inertiajs_inertia_react__WEBPACK_IMPORTED_MODULE_6__.InertiaLink, {
    href: "/login",
    children: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement("span", {
      className: "fancy-link"
    }, "Login")
  })));
}

var make = Header;

/* axios Not a pure module */

/***/ }),

/***/ "./resources/bs/Pages/Login.bs.js":
/*!****************************************!*\
  !*** ./resources/bs/Pages/Login.bs.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "make": () => /* binding */ make,
/* harmony export */   "$$default": () => /* binding */ $$default,
/* harmony export */   "default": () => /* binding */ $$default
/* harmony export */ });
/* harmony import */ var bs_platform_lib_es6_curry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bs-platform/lib/es6/curry.js */ "./node_modules/bs-platform/lib/es6/curry.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! axios */ "./node_modules/axios/index.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _3c1u_bs_inertia_src_Inertia_bs_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @3c1u/bs-inertia/src/Inertia.bs.js */ "./node_modules/@3c1u/bs-inertia/src/Inertia.bs.js");
/* harmony import */ var _Store_bs_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Store.bs.js */ "./resources/bs/Store.bs.js");
/* harmony import */ var _Header_bs_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Header.bs.js */ "./resources/bs/Header.bs.js");
/* harmony import */ var _ReduxThunk_bs_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../ReduxThunk.bs.js */ "./resources/bs/ReduxThunk.bs.js");
// Generated by ReScript, PLEASE EDIT WITH CARE








function Login(Props) {
  var match = react__WEBPACK_IMPORTED_MODULE_2__.useState(function () {
    return "";
  });
  var setEmail = match[1];
  var email = match[0];
  var match$1 = react__WEBPACK_IMPORTED_MODULE_2__.useState(function () {
    return "";
  });
  var setPassword = match$1[1];
  var password = match$1[0];

  var dispatch = bs_platform_lib_es6_curry_js__WEBPACK_IMPORTED_MODULE_0__._1(_Store_bs_js__WEBPACK_IMPORTED_MODULE_4__.useDispatch, undefined);

  var handleEmailChange = function handleEmailChange(e) {
    var target = e.target;
    return bs_platform_lib_es6_curry_js__WEBPACK_IMPORTED_MODULE_0__._1(setEmail, target.value);
  };

  var handlePasswordChange = function handlePasswordChange(e) {
    var target = e.target;
    return bs_platform_lib_es6_curry_js__WEBPACK_IMPORTED_MODULE_0__._1(setPassword, target.value);
  };

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement("div", undefined, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement(_Header_bs_js__WEBPACK_IMPORTED_MODULE_5__.make, {}), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement("div", {
    className: "app-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement("div", {
    className: "app-container"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement("h2", {
    className: "todos-heading"
  }, "Login"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement("form", {
    className: "login-form",
    onSubmit: function onSubmit(e) {
      e.preventDefault();

      var __x = axios__WEBPACK_IMPORTED_MODULE_1__.post("/api/login", {
        email: email,
        password: password
      });

      __x.then(function (param) {
        bs_platform_lib_es6_curry_js__WEBPACK_IMPORTED_MODULE_0__._1(dispatch, {
          RE_EXN_ID: _ReduxThunk_bs_js__WEBPACK_IMPORTED_MODULE_6__.Thunk,
          _1: _Store_bs_js__WEBPACK_IMPORTED_MODULE_4__.loadUser
        });

        _3c1u_bs_inertia_src_Inertia_bs_js__WEBPACK_IMPORTED_MODULE_3__.visit(undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, "/");
        return Promise.resolve(undefined);
      });
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement("input", {
    className: "form-input mt-4",
    name: "email",
    placeholder: "Email",
    type: "email",
    value: email,
    onChange: handleEmailChange
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement("input", {
    className: "form-input mt-4",
    name: "password",
    placeholder: "Password",
    type: "password",
    value: password,
    onChange: handlePasswordChange
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement("button", {
    className: "login-button mt-4 mx-auto"
  }, "Login")))));
}

var make = Login;
var $$default = Login;

/* axios Not a pure module */

/***/ }),

/***/ "./resources/bs/UserIcon.bs.js":
/*!*************************************!*\
  !*** ./resources/bs/UserIcon.bs.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "make": () => /* binding */ make
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
// Generated by ReScript, PLEASE EDIT WITH CARE


function UserIcon(Props) {
  var user = Props.user;

  if (user === undefined) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("span", {
      className: "icon-skeleton"
    });
  }

  var avatar = user.avatar;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("img", {
    className: "icon",
    alt: user.name,
    src: avatar !== undefined ? avatar : "",
    width: "24"
  });
}

var make = UserIcon;

/* react Not a pure module */

/***/ })

}]);